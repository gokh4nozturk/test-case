import { Canvas, Meta, Story, ArgsTable } from '@storybook/addon-docs';
import Button from './Button.vue';

export const WithSlots = ({ content, ...rest }) => {
  const args = rest;
  return {
    components: { Button },
    setup() {
      return {
        args,
        content,
      };
    },
    template: `
    <Button v-bind="args">
      <template v-slot:default>
        <span>{{ content }}</span>
      </template>
    </Button>`,
  };
};

export const defaultArgs = {
  variant: {
    control: {
      type: 'select',
      options: ['primary', 'secondary', 'icon-only', 'text', 'outline'],
    },
    defaultValue: 'primary',
    table: {
      defaultValue: {
        summary: 'primary',
        detail: 'primary | secondary | icon-only | text | outline',
      },
    },
    description: 'Variants of button',
  },
  size: {
    control: {
      type: 'select',
      options: ['small', 'medium', 'large'],
    },
    defaultValue: 'medium',
    table: {
      defaultValue: {
        summary: 'medium',
        detail: 'small | medium | large',
      },
    },
    description: 'Size of button',
  },
  disabled: {
    control: {
      type: 'boolean',
    },
    defaultValue: false,
    table: {
      defaultValue: {
        summary: false,
      },
    },
    description: 'Disabled state of button',
  },
  loading: {
    control: {
      type: 'boolean',
    },
    defaultValue: false,
    table: {
      defaultValue: {
        summary: false,
      },
    },
    description: 'Loading state of button',
  },
  icon: {
    control: {
      type: 'text',
    },
    defaultValue: '',
    table: {
      defaultValue: {
        summary: '',
      },
    },
    description: 'Icon of button',
  },
  iconPosition: {
    control: {
      type: 'select',
      options: ['left', 'right'],
    },
    defaultValue: 'left',
    table: {
      defaultValue: {
        summary: 'left',
        detail: 'left | right',
      },
    },
    description: 'Icon position of button',
  },
  label: {
    control: {
      type: 'text',
    },
    defaultValue: 'Button',
    table: {
      defaultValue: {
        summary: 'Button',
      },
    },
    description: 'Label of button',
  },
  onClick: {
    action: 'click',
    description: 'Click event of button',
  },
};

<Meta
  title="Components/Button"
  component={Button}
  argTypes={{ ...defaultArgs }}
  parameters={{
    viewMode: 'docs',
  }}
/>

### Overview

<Canvas withSource="open">
  <Story
    name="Overview"
    argTypes={{ ...WithSlots.argTypes }}
    args={{
      variant: 'primary',
      content: 'Button',
    }}
  >
    {WithSlots.bind({})}
  </Story>
</Canvas>

### Playground

<ArgsTable
  story="Overview"
  exclude={/^(click|content|label|default|custom-icon|on.*)$/}
/>
